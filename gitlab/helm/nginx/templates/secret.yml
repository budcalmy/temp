{{- $env := .Values.env | default "dev" }}
{{- $namespace := .Values.namespace | default "default" }}
{{- $appName := .Values.names.app | default (printf "%s-nginx" $env) }}
{{- $configSecretName := .Values.names.secret | default (printf "%s-secret" $appName) }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ $configSecretName }}
  namespace: {{ $namespace }}
data:
  blue.conf: c2VydmVyIHsKICAgIGxpc3RlbiAxMjcuMC4wLjE6ODA4MjsKICAgIHNlcnZlcl9uYW1lIGJsdWU7CgogICAgcm9vdCAvdXNyL3NoYXJlL25naW54L2h0bWw7CiAgICBpbmRleCBibHVlLmh0bWw7CgogICAgbG9jYXRpb24gLyB7CiAgICAgICAgdHJ5X2ZpbGVzIC9ibHVlLmh0bWwgPTQwNDsKICAgIH0KfQ==
  default.conf: dXBzdHJlYW0gcmVkYmx1ZSB7CiAgICBzZXJ2ZXIgMTI3LjAuMC4xOjgwODE7IAogICAgc2VydmVyIDEyNy4wLjAuMTo4MDgyOwp9Cgpsb2dfZm9ybWF0IHJiICckcmVtb3RlX2FkZHIgLSAkdXBzdHJlYW1fYWRkciAtICRyZXF1ZXN0JzsKCnNlcnZlciB7CiAgICBsaXN0ZW4gODA4MDsKICAgIHNlcnZlcl9uYW1lIF87CiAgICByb290IC91c3Ivc2hhcmUvbmdpbngvaHRtbDsKICAgIGluZGV4IGluZGV4Lmh0bWw7CgogICAgbG9jYXRpb24gLyB7IHRyeV9maWxlcyAkdXJpICR1cmkvIC9pbmRleC5odG1sOyB9CiAgICBsb2NhdGlvbiAvc2Vjb25kcGFnZSB7IHRyeV9maWxlcyAvc2Vjb25kcGFnZS5odG1sID00MDQ7IH0KICAgIGxvY2F0aW9uIC9zZWNvbmRzZXJ2ZXIgeyByZXR1cm4gMzAxIGh0dHBzOi8vd3d3Lmdvb2dsZS5jb207IH0KCiAgICBsb2NhdGlvbiA9IC9tdXNpYyB7CiAgICAgICAgYWxpYXMgL3Vzci9zaGFyZS9uZ2lueC9odG1sL211c2ljL211c2ljLm1wMzsKCiAgICAgICAgZGVmYXVsdF90eXBlIGF1ZGlvL21wZWc7CiAgICAgICAgYWRkX2hlYWRlciBDb250ZW50LURpc3Bvc2l0aW9uICJhdHRhY2htZW50OyBmaWxlbmFtZT1cIm11c2ljLm1wM1wiIjsKCiAgICAgICAgYWRkX2hlYWRlciBYLUFjY2VsLUJ1ZmZlcmluZyBubzsKICAgIH0KCgogICAgbG9jYXRpb24gL3Rlc3Q1MDAgewogICAgICAgIHJldHVybiA1MDAgIkludGVybmFsIFNlcnZlciBFcnJvclxuIjsKICAgIH0KCgogICAgbG9jYXRpb24gfiBeL2ltYWdlMS8oLispXC5qcGckIHsKICAgICAgICBhbGlhcyAvdXNyL3NoYXJlL25naW54L2h0bWwvaW1nLyQxLmpwZzsgCiAgICB9CiAgICAKICAgIGxvY2F0aW9uIH4gXi9pbWFnZTIvKC4rKVwucG5nJCB7CiAgICAgICAgYWxpYXMgL3Vzci9zaGFyZS9uZ2lueC9odG1sL2ltZy8kMS5wbmc7CiAgICAgICAgaW1hZ2VfZmlsdGVyIHJvdGF0ZSAxODA7CiAgICB9CgogICAgbG9jYXRpb24gPSAvaW5mby5waHAgewogICAgICAgIHByb3h5X3Bhc3MgaHR0cDovL2FwYWNoZS1tYWluOjgwL2luZm8ucGhwOwogICAgICAgIHByb3h5X3NldF9oZWFkZXIgSG9zdCAkaG9zdDsKICAgICAgICBwcm94eV9zZXRfaGVhZGVyIFgtUmVhbC1JUCAkcmVtb3RlX2FkZHI7CiAgICB9CgogICAgbG9jYXRpb24gL3JlZGJsdWUgewogICAgICAgIHByb3h5X3Bhc3MgaHR0cDovL3JlZGJsdWU7CgogICAgICAgIHByb3h5X3NldF9oZWFkZXIgSG9zdCAgICAgICAgICAgICAgJGhvc3Q7CiAgICAgICAgcHJveHlfc2V0X2hlYWRlciBYLVJlYWwtSVAgICAgICAgICAkcmVtb3RlX2FkZHI7CiAgICAgICAgcHJveHlfc2V0X2hlYWRlciBYLUZvcndhcmRlZC1Gb3IgICAkcHJveHlfYWRkX3hfZm9yd2FyZGVkX2ZvcjsKCiAgICAgICAgYWRkX2hlYWRlciBYLVVwc3RyZWFtICAgJHVwc3RyZWFtX2FkZHIgIGFsd2F5czsKICAgICAgICBhZGRfaGVhZGVyIFgtU2VydmVkLUJ5ICAkc2VydmVyX25hbWUgICAgYWx3YXlzOwoKICAgICAgICBhY2Nlc3NfbG9nIC92YXIvbG9nL25naW54L3JlZGJsdWUuYWNjZXNzLmxvZyByYjsKICAgIH0KfQo=
  nginx.conf: bG9hZF9tb2R1bGUgL3Vzci9saWIvbmdpbngvbW9kdWxlcy9uZ3hfaHR0cF9pbWFnZV9maWx0ZXJfbW9kdWxlLnNvOwoKcGlkIC90bXAvbmdpbngucGlkOyAKd29ya2VyX3Byb2Nlc3NlcyBhdXRvOwoKZXZlbnRzIHsgd29ya2VyX2Nvbm5lY3Rpb25zIDEwMjQ7IH0KCmh0dHAgewogICAgaW5jbHVkZSAgICAgICAvZXRjL25naW54L21pbWUudHlwZXM7CiAgICBkZWZhdWx0X3R5cGUgIGFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTsKCiAgICBzZW5kZmlsZSBvbjsKICAgIGtlZXBhbGl2ZV90aW1lb3V0IDY1OwogICAgc2VydmVyX3Rva2VucyBvZmY7CgogICAgYWNjZXNzX2xvZyAvZGV2L3N0ZG91dDsKICAgIGVycm9yX2xvZyAgL2Rldi9zdGRlcnIgaW5mbzsKCiAgICBpbmNsdWRlIC9ldGMvbmdpbngvY29uZi5kLyouY29uZjsKfQo=
  red.conf: c2VydmVyIHsKICAgIGxpc3RlbiAxMjcuMC4wLjE6ODA4MTsKICAgIHNlcnZlcl9uYW1lIHJlZDsKCiAgICByb290IC91c3Ivc2hhcmUvbmdpbngvaHRtbDsKICAgIGluZGV4IHJlZC5odG1sOwoKICAgIGxvY2F0aW9uIC8gewogICAgICAgIHRyeV9maWxlcyAvcmVkLmh0bWwgPTQwNDsKICAgIH0KfQ==
